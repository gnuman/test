/**
 * plugin.js
 *
 * Copyright, Moxiecode Systems AB
 * Released under LGPL License.
 *
 * License: http://www.tinymce.com/license
 * Contributing: http://www.tinymce.com/contributing
 */

/*global tinymce:true */

tinymce.PluginManager.add('help', function(editor) {
	var helpHTML = 'No help text defined.';

	editor.addCommand('mceHelp', function() {
		editor.windowManager.open({
			title: 'Help',
			width : parseInt(editor.getParam("help_window_width", "320"), 10),
			height : parseInt(editor.getParam("help_window_height", "240"), 10),
			html: editor.getParam("help_html", helpHTML),
			buttons: {
				text: 'Close',
				onclick: function() {
					this.parent().parent().close();
				}
			},
		});

	});

	editor.addButton('help', {
		title: 'Help',
		cmd: 'mceHelp'
	});

	editor.addShortcut('Ctrl+H', '', 'mceHelp');

	editor.addMenuItem('help', {
		text: 'Help',
		cmd: 'mceHelp',
		icon: 'help',
		shortcut: 'Ctrl+H',
		context: 'view'
	});
});
